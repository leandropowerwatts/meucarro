<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Controle de Manuten√ß√£o Veicular</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <link rel="manifest" href="manifest.json" />
  <script src="app.js" defer></script>
</head>
<body>
  <script>
  (function () {
    const PASSWORD = 'pwa2025';          // üëâ TROQUE AQUI SE QUISER OUTRA SENHA
    const STORAGE_KEY = 'acesso_site_ok';

    // Se j√° tiver acesso liberado, n√£o faz nada
    if (localStorage.getItem(STORAGE_KEY) === 'true') {
      return;
    }

    const tentativa = prompt('Digite a senha para entrar no site:');

    if (tentativa === PASSWORD) {
      // Libera definitivamente neste navegador
      localStorage.setItem(STORAGE_KEY, 'true');
      // segue a vida normalmente
    } else {
      alert('Senha incorreta. Acesso negado.');
      // Opcional: manda pra outro lugar
      window.location.href = 'https://google.com'; 
      // pode trocar por outra p√°gina sua, se quiser
    }
  })();
</script>
  <header class="app-header">
    <h1>Controle Veicular</h1>
    <p class="subtitle">Gastos, manuten√ß√µes e situa√ß√£o real do carro e da moto</p>
  </header>

  <main class="app-main">
    <!-- P√°gina: Home -->
    <section id="page-home" class="page active">
      <div class="hero-card">
        <img src="assets/carro-moto.jpg" alt="Carro e moto" class="hero-img" />
        <div>
          <h2>Seu painel de manuten√ß√£o no bolso</h2>
          <p>
            Cadastre seus ve√≠culos, registre pe√ßas e servi√ßos, acompanhe
            garantias, quilometragem e veja quanto cada ve√≠culo est√° te custando.
          </p>
          <button class="btn primary" data-goto="page-veiculos">
            Come√ßar agora
          </button>
        </div>
      </div>

      <div class="info-card">
        <h3>O que voc√™ vai controlar</h3>
        <ul>
          <li>üìå Registro de pe√ßas e servi√ßos por ve√≠culo</li>
          <li>‚è±Ô∏è Garantia em km e em tempo</li>
          <li>üö¶ Status: em dia, perto de vencer, vencido</li>
          <li>üí∞ Total gasto por ano e por ve√≠culo</li>
          <li>üìä Resumo visual da situa√ß√£o do carro/moto</li>
        </ul>
      </div>
    </section>

    <!-- P√°gina: Ve√≠culos -->
    <section id="page-veiculos" class="page">
      <h2>Ve√≠culos</h2>

      <form id="form-veiculo" class="card form-card">
        <h3>Cadastrar / editar ve√≠culo</h3>
        <div class="form-group">
          <label for="veiculo-nome">Nome do ve√≠culo</label>
          <input id="veiculo-nome" type="text" placeholder="Ex: Jetta 2018, Tiger 900" required />
        </div>
        <div class="form-group">
          <label for="veiculo-tipo">Tipo</label>
          <select id="veiculo-tipo" required>
            <option value="carro">Carro</option>
            <option value="moto">Moto</option>
            <option value="outro">Outro</option>
          </select>
        </div>
        <div class="form-group">
          <label for="veiculo-km">Km atual</label>
          <input id="veiculo-km" type="number" min="0" step="1" placeholder="Ex: 84500" required />
        </div>
        <button type="submit" class="btn primary">Salvar ve√≠culo</button>
      </form>

      <div class="card">
        <h3>Meus ve√≠culos</h3>
        <ul id="lista-veiculos" class="list"></ul>
      </div>
    </section>

    <!-- P√°gina: Manuten√ß√µes / Pe√ßas e Servi√ßos -->
    <section id="page-manutencoes" class="page">
      <h2>Manuten√ß√µes</h2>

      <form id="form-manutencao" class="card form-card">
        <h3>Registrar / editar pe√ßa ou servi√ßo</h3>

        <div class="form-group">
          <label for="manutencao-veiculo">Ve√≠culo</label>
          <select id="manutencao-veiculo" required></select>
        </div>

        <div class="form-group">
          <label for="manutencao-data">Data</label>
          <input id="manutencao-data" type="date" required />
        </div>

        <div class="form-group">
          <label for="manutencao-descricao">Pe√ßa / Servi√ßo</label>
          <input id="manutencao-descricao" type="text" placeholder="Ex: Pastilha dianteira, troca de √≥leo" required />
        </div>

        <div class="form-group">
          <label for="manutencao-tipo">Tipo</label>
          <select id="manutencao-tipo" required>
            <option value="peca">S√≥ pe√ßa</option>
            <option value="servico">S√≥ servi√ßo</option>
            <option value="peca-servico">Pe√ßa + servi√ßo</option>
          </select>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="manutencao-km">Km na data</label>
            <input id="manutencao-km" type="number" min="0" step="1" required />
          </div>
          <div class="form-group">
            <label for="manutencao-km-garantia">Garantia (km)</label>
            <input id="manutencao-km-garantia" type="number" min="0" step="1" placeholder="Ex: 20000" />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="manutencao-meses-garantia">Garantia (meses)</label>
            <input id="manutencao-meses-garantia" type="number" min="0" step="1" placeholder="Ex: 12" />
          </div>
          <div class="form-group">
            <label for="manutencao-mecanico">Mec√¢nico / Local</label>
            <input id="manutencao-mecanico" type="text" placeholder="Ex: Jo√£o Mec√¢nica X" />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="manutencao-valor-peca">Valor pe√ßa (R$)</label>
            <input id="manutencao-valor-peca" type="number" min="0" step="0.01" />
          </div>
          <div class="form-group">
            <label for="manutencao-valor-servico">Valor servi√ßo (R$)</label>
            <input id="manutencao-valor-servico" type="number" min="0" step="0.01" />
          </div>
        </div>

        <button type="submit" class="btn primary">Salvar manuten√ß√£o</button>
      </form>

      <div class="card">
        <h3>Filtro</h3>
        <div class="form-row">
          <div class="form-group">
            <label for="filtro-veiculo">Ve√≠culo</label>
            <select id="filtro-veiculo"></select>
          </div>
          <div class="form-group">
            <label for="filtro-tipo">Tipo</label>
            <select id="filtro-tipo">
              <option value="">Todos</option>
              <option value="peca">S√≥ pe√ßa</option>
              <option value="servico">S√≥ servi√ßo</option>
              <option value="peca-servico">Pe√ßa + servi√ßo</option>
            </select>
          </div>
        </div>
      </div>

      <div class="card">
        <h3>Hist√≥rico de manuten√ß√µes</h3>
        <ul id="lista-manutencoes" class="list"></ul>
      </div>
    </section>

    <!-- P√°gina: Atualizar Km -->
    <section id="page-km" class="page">
      <h2>Atualizar quilometragem</h2>

      <form id="form-km" class="card form-card">
        <div class="form-group">
          <label for="km-veiculo">Ve√≠culo</label>
          <select id="km-veiculo" required></select>
        </div>
        <div class="form-group">
          <label for="km-atual">Km atual</label>
          <input id="km-atual" type="number" min="0" step="1" required />
        </div>
        <button type="submit" class="btn primary">Atualizar km</button>
      </form>

      <div class="card">
        <h3>Resumo r√°pido</h3>
        <ul id="lista-km-resumo" class="list"></ul>
      </div>
    </section>

    <!-- P√°gina: Dashboard / Gr√°fico -->
    <section id="page-dashboard" class="page">
      <h2>Painel do ve√≠culo</h2>

      <div class="card form-card">
        <div class="form-group">
          <label for="dashboard-veiculo">Ve√≠culo</label>
          <select id="dashboard-veiculo"></select>
        </div>
        <div class="form-group">
          <label for="dashboard-ano">Ano</label>
          <input id="dashboard-ano" type="number" min="2000" step="1" />
        </div>
        <button id="btn-atualizar-dashboard" class="btn primary">
          Atualizar painel
        </button>
      </div>

      <div class="card">
        <h3>Resumo financeiro</h3>
        <p id="dashboard-resumo-financeiro">Selecione um ve√≠culo e um ano.</p>
        <div class="chart">
          <div class="chart-row">
            <span>Pe√ßas</span>
            <div class="chart-bar">
              <div id="bar-pecas" class="bar bar-pecas"></div>
            </div>
            <span id="label-pecas" class="chart-value">R$ 0,00</span>
          </div>
          <div class="chart-row">
            <span>Servi√ßos</span>
            <div class="chart-bar">
              <div id="bar-servicos" class="bar bar-servicos"></div>
            </div>
            <span id="label-servicos" class="chart-value">R$ 0,00</span>
          </div>
          <div class="chart-row">
            <span>Total</span>
            <div class="chart-bar">
              <div id="bar-total" class="bar bar-total"></div>
            </div>
            <span id="label-total" class="chart-value">R$ 0,00</span>
          </div>
        </div>
      </div>

      <div class="card">
        <h3>Situa√ß√£o das pe√ßas</h3>
        <ul id="dashboard-situacao" class="list"></ul>
      </div>
    </section>
  </main>

  <nav class="app-nav">
    <button class="nav-btn active" data-goto="page-home">In√≠cio</button>
    <button class="nav-btn" data-goto="page-veiculos">Ve√≠culos</button>
    <button class="nav-btn" data-goto="page-manutencoes">Manuten√ß√µes</button>
    <button class="nav-btn" data-goto="page-km">Km</button>
    <button class="nav-btn" data-goto="page-dashboard">Painel</button>
  </nav>
</body>
</html>